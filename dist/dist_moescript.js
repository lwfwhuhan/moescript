// ==UserScript==
// @name         猫国建设者网页插件(随便测试版)
// @namespace    https://github.com/visnz/moescript
// @description  游戏《猫国建设者》网页自动化插件（就是外挂）(随便测试版)
// @version      0.1
// @author       visnz
// @require      https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js
// @match        https://likexia.gitee.io/cat-zh/*
// 
//  因为使用了中文作为函数名，在脚本这边只使用经过优化处理的js代码。
//  源码可以直接访问上方 @namespace 地址
// 
// ==/UserScript==

(function(){function c(b,a){a=void 0===a?4:a;$("div.craft:nth-child("+("string"===typeof b?l[b]:b)+") > div:nth-child("+((1>a?1:4<a?4:a)+2)+") > div:nth-child(1)").click()}function d(b){$("#moescriptlog").prepend('<span class="msg"> [ '+Date().split(" ")[4]+" ] "+b+"</span>")}var l={"\u6728\u6750":1,"\u6728\u6881":3,"\u77f3\u677f":4,"\u91d1\u5c5e\u677f":5,"\u94a2":6,"\u9f7f\u8f6e":8,"\u811a\u624b\u67b6":11,"\u8239":12,"\u7f8a\u76ae\u7eb8":15,"\u624b\u7a3f":16,"\u6982\u8981":17,"\u84dd\u56fe":18,"\u5de8\u77f3":20},
f=function(){$("a.tab:nth-child(3)")[0].click()},g=0,h=function(){g=$(".activeTab").parent().children(".activeTab").index()},k=function(){$("a.tab:nth-child("+(g+1)+")")[0].click()},e=[{panel:"\u57fa\u672c",list:[{DisplayName:"\u62ac\u5934\u770b\u5929\u7a7a",scriptFunc:function(){$("#observeBtn").click()},timer:15E3},{DisplayName:"\u81ea\u52a8\u6253\u730e",scriptFunc:function(){$("#fastHuntContainerCount").click()}},{DisplayName:"\u8d5e\u7f8e\u592a\u9633",scriptFunc:function(){$("#fastPraiseContainer > a:nth-child(1)")[0].click()}},
{DisplayName:"\u7ba1\u7406Jobs",scriptFunc:function(){h();f();$("div.panelContainer:nth-child(3) > div:nth-child(3) > table:nth-child(1) > tr:nth-child(1) > td:nth-child(2) > div:nth-child(3) > div:nth-child(1) > span:nth-child(1)").click();k()},timer:36E5},{DisplayName:"\u5c0f\u732b\u5347\u804c\u5668",scriptFunc:function(){h();f();$("div.panelContainer:nth-child(3) > div:nth-child(3) > table:nth-child(1) > tr:nth-child(1) > td:nth-child(2) > div:nth-child(4) > div:nth-child(1)").click();k()},timer:36E5}]},
{panel:"\u5408\u6210",list:[{DisplayName:"\u5408\u6210\u6728\u6750",scriptFunc:function(){c(1)}},{DisplayName:"\u5408\u6210\u94a2",scriptFunc:function(){c(6)}},{DisplayName:"\u5408\u6210\u6728\u6881",scriptFunc:function(){c(3)}},{DisplayName:"\u5408\u6210\u77f3\u677f",scriptFunc:function(){c(4)}},{DisplayName:"\u5408\u6210\u91d1\u5c5e\u677f",scriptFunc:function(){c(5)}},{DisplayName:"\u5408\u6210\u9f7f\u8f6e",scriptFunc:function(){c(8)}},{DisplayName:"\u5408\u6210\u811a\u624b\u67b6",scriptFunc:function(){c(11)}},
{DisplayName:"\u5408\u6210\u8239",scriptFunc:function(){c(12)}},{DisplayName:"\u5408\u6210\u7f8a\u76ae\u7eb8",scriptFunc:function(){c(15)}},{DisplayName:"\u5408\u6210\u624b\u7a3f",scriptFunc:function(){c(16)}},{DisplayName:"\u5408\u6210\u6982\u8981",scriptFunc:function(){c(17)}},{DisplayName:"\u5408\u6210\u84dd\u56fe",scriptFunc:function(){c(18)}},{DisplayName:"\u5408\u6210\u5de8\u77f3",scriptFunc:function(){c(20)}}]},{panel:"\u98de\u5929",list:[{DisplayName:"\u4f4e\u901f\u5361\u673a\u5228\u6728\u6cd5",
timer:1E3},{DisplayName:"\u4e2d\u901f\u5361\u673a\u5228\u6728\u6cd5",timer:1E3},{DisplayName:"\u9ad8\u901f\u5361\u673a\u5228\u6728\u6cd5",timer:1E3},{DisplayName:"\u4e94\u5206\u949f\u4e2d\u901f\u5228",timer:1E3}]}];$("#rightColumn").prepend('<div><div style="display:flex;flex-wrap:wrap">'+e.map(function(b){return'<input id="'+b.panel+'\u6309\u94ae" type="button" style="display:inline" value="'+b.panel+'">'}).reduce(function(b,a){return b+a})+'<input id="\u5168\u81ea\u52a8\u5173" type="button"  style="display:inline" value="\u5168\u90e8\u5173\u95ed"><span><input id="\u7acb\u9a6c\u6267\u884c" type="checkbox"  style="display:inline" checked><span>\u7acb\u9a6c\u6267\u884c</span></span></div>'+
e.map(function(b){return'<div id="'+b.panel+'" style="display:none";><div style="display:flex;flex-wrap:wrap">'+b.list.map(function(a){return'<span style="white-space:nowrap;"><input class="moescript" id="'+a.DisplayName+'" type="checkbox" style="display:inline"><span>'+a.DisplayName+"</span></span>"}).reduce(function(a,b){return a+b})+"</div></div>"}).reduce(function(b,a){return b+a})+'<div><div id="moescriptlog"style="min-height:300px;max-height:300px;overflow:auto;"></div></div></div>');e.map(function(b){b.list.map(function(a){null==
a.timer&&(a.timer=6E4);null==a.scriptFunc&&(a.scriptFunc=function(){return eval(a.DisplayName+"()")});$("#"+a.DisplayName).click(function(b){b.currentTarget.checked?(d("[\u811a\u672c\u5efa\u7acb] "+a.DisplayName+" \u95f4\u9694:"+(a.timer/1E3).toFixed(2)+"\u79d2"),a.AutoID=setInterval(function(){a.scriptFunc();d("[__\u81ea\u52a8__] "+a.DisplayName)},a.timer),$("#\u7acb\u9a6c\u6267\u884c")[0].checked&&(a.scriptFunc(),d("[____\u7acb\u9a6c] "+a.DisplayName+"(\u0e07 \u2022\u0300_\u2022\u0301)\u0e07"))):
(clearInterval(a.AutoID),d("[\u811a\u672c\u6e05\u9664] "+a.DisplayName))})})});e.map(function(b){$("#"+b.panel+"\u6309\u94ae").click(function(a){$("#"+b.panel).attr("style","display:"+("display:block"==$("#"+b.panel).attr("style")?"none":"block"))})});$("#\u5168\u81ea\u52a8\u5173").click(function(b){e.map(function(a){return a.list.map(function(a){return clearInterval(a.AutoID)})});$(".moescript").each(function(a,b){$("#"+b.id)[0].checked=!1});d("\u6e05\u9664\u4e86\u6240\u6709\u811a\u672c")})})();
